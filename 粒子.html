<!-- <!DOCTYPE HTML>
 <html lang="en">
  <meta charset="utf-8">
  <head><title>Draw a Circle</title>
   <style type="text/css">
    body {
      background-color: #000000;
      margin: 0px;
      overflow: hidden;
    }
   </style>
  </head>
 <body>
<script>
  var canvas = document.createElement( 'canvas' ),
  context = canvas.getContext( '2d' );
  var canvasWidth = window.innerWidth; 
  canvasHeight = window.innerHeight;
  //initialize the array
  var particles = [];
  init();

  function init() { 
    document.body.appendChild(canvas); 
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
    setInterval(loop, 1000/30);
  }

 function loop(){
  context.fillStyle = "rgba(0,0,0,1)";
  context.fillRect(0,0, canvasWidth, canvasHeight); 
  //下个随机粒子
  var particle = new Particle(canvasWidth*.5, canvasHeight*.5);
  particle.xVel = Math.random()*4-2;//随机的水平位置变化量
  particles.push(particle); 

  //update all particles
  for (i=0; i<particles.length; i++) {
    var particle = particles[i]; 
     // render it
    particle.render(context); 
    //update afterwards so it displays in the correct place
    particle.update(); 
  }

  //clean up
  if (particles.length>1000){
     particles.shift();
  }
 }

 //粒子类 
 function Particle (xPos, yPos) {
    this.xPos = xPos;
    this.yPos = yPos;

    this.yVel = -5;
    this.xVel = 0;

    //add trails!
    this.gravity = 0.1;//重力影响
    this.counter = 0;//影响颜色

    this.render = function(c){
      // set the color of the fill
      c.fillStyle = "hsl("+this.counter+", 100%, 50%)";//注意这里啦
      // draw a circle of the required size
      c.beginPath();
      c.arc(this.xPos, this.yPos, 5, 0, Math.PI*2, true);
      // and fill it
      c.fill(); 
    }

    this.update = function(){
      this.yVel += this.gravity;
      this.yPos += this.yVel;
      this.xPos += this.xVel;
      this.counter +=2;//加一点点
    }
   }

</script>
</body>
</html> -->




<!-- <!DOCTYPE HTML>
<html>
<head>
<title>ExplorerCanvas Example 1</title>
<script type="text/javascript">
 var canvas, ctx;
  var particles = [];
  var NUM_PARTICLES = 2;
  function Particle() {
   this.x = Math.random() * canvas.width;
   this.y = Math.random() * canvas.height;
   this.xvel = Math.random() * 16 - 8;
   this.yvel = Math.random() * 16 - 8;
  }
  Particle.prototype.update = function() {
   this.x += this.xvel;
   this.y += this.yvel;
   this.yvel += 30;
   if (this.x >= canvas.width || this.x <= 0) {
     this.xvel = -this.xvel;
   }
   if (this.y >= canvas.height || this.y <= 0) {
     this.yvel = -this.yvel;
    }
  }
  function loop() {
   ctx.clearRect(0, 0, canvas.width, canvas.height);
  for(var i = 0; i < NUM_PARTICLES; i++) {
   particles[i].update();
   ctx.beginPath();//开始画点
   ctx.moveTo(particles[i].x, particles[i].y);
   ctx.lineTo(particles[i].x -0,particles[i].y-10);
  
   ctx.closePath();
    ctx.stroke();
  }
  setTimeout(loop,10);
 }
 function load() {
  canvas = document.getElementById("cv");
  ctx = canvas.getContext("2d");
  for(var i = 0; i < NUM_PARTICLES; i++) {
   particles[i] = new Particle();
  }
  ctx.lineWidth = "10";
  ctx.strokeStyle = "rgb(0, 0, 0)";
  loop();
}
</script>
<style>
 body {
  background-color:white;margin:50px;text-align:center;
 }
 canvas {
  border:1px solid #444;
 }
</style>
</head>
<body onload="load();">
 <canvas id="cv" width="400" height="300"></canvas>
</body>
</html> -->


<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="粒子.css">
  <title></title>
</head>
<body>
<canvas id = "canvas">
</canvas>
<script type="text/javascript" src="粒子.js"></script>
</body>
</html>